(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},134:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(26),s=c.n(i),l=c(7),r=c(85),o=c.n(r),j=c(32),d=c(14),u=(c(100),c(24)),b=c.n(u),h=c(176),O=c(177),m=c(175),x=c(173),p=c(172),g=c(1),v=function(e){var t=e.authData,c=Object(d.f)(),a=Object(n.useState)(""),i=Object(l.a)(a,2),s=i[0],r=i[1],o=Object(n.useState)(""),j=Object(l.a)(o,2),u=j[0],v=j[1],f=Object(n.useState)(""),_=Object(l.a)(f,2),N=_[0],I=_[1];console.log(t),console.log(N);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{position:"static",children:Object(g.jsx)(O.a,{children:Object(g.jsx)(m.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Registration"})})}),Object(g.jsxs)("form",{className:"loginForm",onSubmit:function(e){e.preventDefault();for(var n=0,a=0;a<t.length;a++)s===t[a].username&&(I("\u0418\u043c\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0437\u0430\u043d\u044f\u0442\u043e!"),n++);0===n&&(b.a.post("http://localhost:3002/authArray",{id:t[t.length-1].id+1,username:s,password:u}),c("../login",{replace:!0}))},children:[Object(g.jsx)("div",{className:"mail__input",children:Object(g.jsx)(p.a,{id:"outlined-mail-input",style:{width:350},type:"text",label:"New login",onChange:function(e){r(e.target.value)},onFocus:function(){return I("")}})}),Object(g.jsx)("div",{className:"phone__input",children:Object(g.jsx)(p.a,{id:"outlined-phone-input",style:{width:350},type:"phone",label:"New password",onChange:function(e){v(e.target.value)},onFocus:function(){return I("")}})}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"buttonReg__container",children:[Object(g.jsx)("div",{className:"cancelReg__button",children:Object(g.jsx)(x.a,{type:"submit",variant:"contained",style:{width:100},onClick:function(){c("../login",{replace:!0})},children:"Cancel"})}),Object(g.jsx)("div",{className:"Reg__button",children:Object(g.jsx)(x.a,{type:"submit",variant:"contained",style:{width:100},children:"Save"})})]}),Object(g.jsx)("p",{className:"errorMassage",children:N})]})]})]})},f=(c(127),function(e){var t=e.setIsLoggedIn,c=e.authData,a=Object(n.useState)(""),i=Object(l.a)(a,2),s=i[0],r=i[1],o=Object(n.useState)(""),j=Object(l.a)(o,2),u=j[0],b=j[1],v=Object(d.f)(),f=Object(n.useState)(""),_=Object(l.a)(f,2),N=_[0],I=_[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{position:"static",children:Object(g.jsx)(O.a,{children:Object(g.jsx)(m.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Contact Manager"})})}),Object(g.jsxs)("form",{className:"loginForm",onSubmit:function(e){e.preventDefault();for(var n=0,a=0,i=0,l=0,r=0;r<c.length;r++)if(s===c[r].username&&(n++,i=c[r].id),u===c[r].password&&(a++,l=c[r].id),0===n||0===a||i!=l)I("You have entered incorrect data! Try again"),document.getElementById("outlined-login-input").value="",document.getElementById("outlined-password-input").value="";else{v("../hp",{replace:!0});for(var o=0;o<c.length;o++)s===c[o].username&&localStorage.setItem("userID",c[o].id);t(!0),localStorage.setItem("User",s),localStorage.setItem("isLoggedIn",!0)}},children:[Object(g.jsx)("h2",{children:"Authorization"}),Object(g.jsxs)("div",{className:"auth__container",children:[Object(g.jsx)("div",{className:"login__input",children:Object(g.jsx)(p.a,{id:"outlined-login-input",style:{width:350},label:"Login",type:"login",autoComplete:"current-password",onChange:function(e){r(e.target.value)},onFocus:function(){return I("")}})}),Object(g.jsx)("div",{className:"login__password",children:Object(g.jsx)(p.a,{id:"outlined-password-input",style:{width:350},label:"Password",type:"password",autoComplete:"current-password",onChange:function(e){b(e.target.value)},onFocus:function(){return I("")}})}),Object(g.jsx)("div",{className:"login__button",children:Object(g.jsx)(x.a,{type:"submit",variant:"contained",children:"Login"})}),Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"errorMassage",children:N})}),Object(g.jsx)("div",{className:"registration",children:Object(g.jsx)("span",{onClick:function(){return v("../registration",{replace:!0})},children:"Registration"})})]})]})]})}),_=(c(128),c(129),c.p+"static/media/pen.60f7e82f.svg"),N=c.p+"static/media/basket.9f626fde.svg",I=c.p+"static/media/avatar.8ad452b2.svg",S=function(e){var t=e.contact,c=(e.contactsData,e.inputValue),n=Object(d.f)(),a=function(e){b.a.delete("http://localhost:3002/contacts/".concat(e))},i=function(e){localStorage.setItem("contact.id",e),n("../ep",{replace:!0})},s=+localStorage.getItem("userID");return Object(g.jsxs)(g.Fragment,{children:[s===t.ownerId&&""===c&&Object(g.jsxs)("div",{className:"contactsBlock__container",children:[Object(g.jsxs)("div",{className:"description__block",children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"avatarSVG",src:I,alt:""})}),Object(g.jsxs)("div",{className:"description",children:[Object(g.jsx)("div",{className:"description__name",children:t.name}),Object(g.jsx)("div",{children:t.phonenumber}),Object(g.jsx)("div",{children:t.email})]})]}),Object(g.jsxs)("div",{className:"icons__container",children:[Object(g.jsx)("img",{onClick:function(){return i(t.id)},className:"penSVG",src:_,alt:""}),Object(g.jsx)("img",{onClick:function(){return a(t.id)},className:"basketSVG",src:N,alt:""})]})]}),s===t.ownerId&&c===t.name&&Object(g.jsxs)("div",{className:"contactsBlock__container",children:[Object(g.jsxs)("div",{className:"description__block",children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"avatarSVG",src:I,alt:""})}),Object(g.jsxs)("div",{className:"description",children:[Object(g.jsx)("div",{className:"description__name",children:t.name}),Object(g.jsx)("div",{children:t.phonenumber}),Object(g.jsx)("div",{children:t.email})]})]}),Object(g.jsxs)("div",{className:"icons__container",children:[Object(g.jsx)("img",{onClick:function(){return i(t.id)},className:"penSVG",src:_,alt:""}),Object(g.jsx)("img",{onClick:function(){return a(t.id)},className:"basketSVG",src:N,alt:""})]})]}),s===t.ownerId&&c===t.email&&Object(g.jsxs)("div",{className:"contactsBlock__container",children:[Object(g.jsxs)("div",{className:"description__block",children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"avatarSVG",src:I,alt:""})}),Object(g.jsxs)("div",{className:"description",children:[Object(g.jsx)("div",{className:"description__name",children:t.name}),Object(g.jsx)("div",{children:t.phonenumber}),Object(g.jsx)("div",{children:t.email})]})]}),Object(g.jsxs)("div",{className:"icons__container",children:[Object(g.jsx)("img",{onClick:function(){return i(t.id)},className:"penSVG",src:_,alt:""}),Object(g.jsx)("img",{onClick:function(){return a(t.id)},className:"basketSVG",src:N,alt:""})]})]}),s===t.ownerId&&c===t.phonenumber&&Object(g.jsxs)("div",{className:"contactsBlock__container",children:[Object(g.jsxs)("div",{className:"description__block",children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"avatarSVG",src:I,alt:""})}),Object(g.jsxs)("div",{className:"description",children:[Object(g.jsx)("div",{className:"description__name",children:t.name}),Object(g.jsx)("div",{children:t.phonenumber}),Object(g.jsx)("div",{children:t.email})]})]}),Object(g.jsxs)("div",{className:"icons__container",children:[Object(g.jsx)("img",{onClick:function(){return i(t.id)},className:"penSVG",src:_,alt:""}),Object(g.jsx)("img",{onClick:function(){return a(t.id)},className:"basketSVG",src:N,alt:""})]})]})]})},y=function(e){for(var t=e.contactsData,c=e.isLoggedIn,a=(e.setIsLoggedIn,Object(n.useState)(+localStorage.getItem("contact.id"))),i=Object(l.a)(a,2),s=i[0],r=(i[1],Object(n.useRef)(null)),o=Object(n.useRef)(null),j=Object(n.useRef)(null),u=Object(d.f)(),v="",f="",_="",N=0;N<t.length;N++)s===t[N].id&&(v=t[N].name,f=t[N].email,_=t[N].phonenumber);return Object(g.jsx)(g.Fragment,{children:c?Object(g.jsxs)("div",{children:[Object(g.jsx)(h.a,{position:"static",children:Object(g.jsx)(O.a,{children:Object(g.jsx)(m.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Edit contact"})})}),Object(g.jsx)("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),b.a.put("http://localhost:3002/contacts/".concat(s),{id:s,ownerId:+localStorage.getItem("userID"),name:r.current.value,email:j.current.value,phonenumber:o.current.value}),u("../hp",{replace:!0})},children:Object(g.jsx)("div",{className:"home__container",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"name__input",children:Object(g.jsx)(p.a,{id:"outlined-name-input",defaultValue:v,style:{width:350},type:"name",inputRef:r})}),Object(g.jsx)("div",{className:"mail__input",children:Object(g.jsx)(p.a,{id:"outlined-mail-input",style:{width:350},defaultValue:f,type:"mail",inputRef:j})}),Object(g.jsx)("div",{className:"phone__input",children:Object(g.jsx)(p.a,{id:"outlined-phone-input",style:{width:350},defaultValue:_,type:"phone",inputRef:o})}),Object(g.jsxs)("div",{className:"buttonEdit__container",children:[Object(g.jsx)("div",{className:"cancelEdit__button",children:Object(g.jsx)(x.a,{type:"submit",variant:"contained",style:{width:100},onClick:function(){u("../hp",{replace:!0})},children:"Cancel"})}),Object(g.jsx)("div",{className:"edit__button",children:Object(g.jsx)(x.a,{type:"submit",variant:"contained",style:{width:100},children:"Save"})})]})]})})})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:"Please, login"}),Object(g.jsx)("button",{onClick:function(){u("../login",{replace:!0})},children:"Go to the login"})]})})},w=function(){var e=Object(d.f)();return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:"Sorry, but this page not founed! "}),Object(g.jsx)("button",{onClick:function(){e("../login",{replace:!0})},children:"Go to the login"})]})},k=(c(130),c(87)),C=c.n(k),D=function(e){var t=e.setIsLoggedIn,c=(e.authData,e.userID,e.contactsData),a=e.isLoggedIn,i=Object(d.f)(),s=Object(n.useRef)(null),r=Object(n.useRef)(null),o=Object(n.useRef)(null),j=Object(n.useRef)(null),u=Object(n.useState)(""),v=Object(l.a)(u,2),f=v[0],_=v[1];return Object(g.jsx)(g.Fragment,{children:a?Object(g.jsxs)("div",{children:[Object(g.jsx)(h.a,{position:"static",children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(m.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Contact Manager"}),Object(g.jsx)(x.a,{variant:"outlined",onClick:function(){localStorage.setItem("isLoggedIn",!1),localStorage.setItem("userID",null),i("../login",{replace:!0}),t(!1)},color:"inherit",children:"Logout"})]})}),Object(g.jsx)("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),b.a.post("http://localhost:3002/contacts",{id:c[c.length-1].id+1,ownerId:parseInt(localStorage.getItem("userID")),name:s.current.value,email:o.current.value,phonenumber:r.current.value})},children:Object(g.jsx)("div",{className:"home__container",children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{children:["Hello, ",localStorage.getItem("User")]}),Object(g.jsx)("div",{children:Object(g.jsx)(p.a,{id:"filled-search",label:"Search contact",type:"search",variant:"filled",inputRef:j,onChange:function(){_(j.current.value)}})}),Object(g.jsx)("div",{className:"name__input",children:Object(g.jsx)(p.a,{id:"outlined-name-input",style:{width:350},label:"Name",type:"text",inputRef:s})}),Object(g.jsx)("div",{className:"mail__input",children:Object(g.jsx)(p.a,{id:"outlined-mail-input",style:{width:350},label:"Mail",type:"text",inputRef:o})}),Object(g.jsx)("div",{className:"phone__input",children:Object(g.jsx)(p.a,{id:"outlined-phone-input",style:{width:350},label:"Phone number",type:"text",inputRef:r})}),Object(g.jsx)("div",{className:"add__button",children:Object(g.jsx)(x.a,{type:"submit",variant:"contained",style:{width:100},endIcon:Object(g.jsx)(C.a,{}),children:"Add"})})]})})}),Object(g.jsx)("div",{children:c.map((function(e){return Object(g.jsx)(S,{inputValue:f,contactsData:c,contact:e})}))})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:"Please, login"}),Object(g.jsx)("button",{onClick:function(){i("../login",{replace:!0})},children:"Go to the login"})]})})},G=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),r=s[0],u=s[1],h=JSON.parse(localStorage.getItem("isLoggedIn")),O=Object(n.useState)(h),m=Object(l.a)(O,2),x=m[0],p=m[1];return Object(n.useEffect)((function(){b.a.get("http://localhost:3002/auth.json").then((function(e){var t=e.data;a(t.authArray)})),b.a.get("http://localhost:3002/contacts").then((function(e){var t=e.data;u(t)}))}),[]),Object(g.jsx)("div",{className:o.a.container,children:Object(g.jsx)(j.a,{children:Object(g.jsxs)(d.c,{children:[Object(g.jsx)(d.a,{path:"/login",exact:!0,element:Object(g.jsx)(f,{setIsLoggedIn:p,authData:c})}),Object(g.jsx)(d.a,{path:"/hp",exact:!0,element:Object(g.jsx)(D,{setIsLoggedIn:p,isLoggedIn:x,authData:c,contactsData:r})}),Object(g.jsx)(d.a,{path:"/registration",exact:!0,element:Object(g.jsx)(v,{authData:c})}),Object(g.jsx)(d.a,{path:"/ep",exact:!0,element:Object(g.jsx)(y,{contactsData:r,isLoggedIn:x,setIsLoggedIn:p})}),Object(g.jsx)(d.a,{path:"*",exact:!0,element:Object(g.jsx)(w,{})})]})})})};c(133);s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(G,{})}),document.getElementById("root"))},85:function(e,t,c){e.exports={container:"app_container__352fC"}}},[[134,1,2]]]);
//# sourceMappingURL=main.53f72f75.chunk.js.map