{"ast":null,"code":"const initialState = {\n  items: {},\n  totalPrice: 0,\n  totalCount: 0\n};\nconst totalPrice = allPizzas.reduce((sum, obj) => obj.price + sum, 0);\n\nconst cart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (action.type === 'ADD_PIZZA_CART') {\n    const currenPizzaItems = !state.items[action.payload.id] ? [action.payload] : [...state.items[action.payload.id], action.payload];\n    const newItems = { ...state.items,\n      [action.payload.id]: {\n        items: currenPizzaItems,\n        totalPrice\n      }\n    };\n    const allPizzas = [].concat.apply([], Object.values(newItems));\n    return { ...state,\n      items: newItems,\n      totalCount: allPizzas.length,\n      totalPrice: totalPrice\n    };\n  }\n\n  return state;\n};\n\nexport default cart;","map":{"version":3,"sources":["C:/programs/react/React-pizza/my-app/src/redux/reducers/cart.js"],"names":["initialState","items","totalPrice","totalCount","allPizzas","reduce","sum","obj","price","cart","state","action","type","currenPizzaItems","payload","id","newItems","concat","apply","Object","values","length"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,EADU;AAEjBC,EAAAA,UAAU,EAAE,CAFK;AAGjBC,EAAAA,UAAU,EAAE;AAHK,CAArB;AAKA,MAAMD,UAAU,GAAGE,SAAS,CAACC,MAAV,CAAiB,CAACC,GAAD,EAAMC,GAAN,KAAcA,GAAG,CAACC,KAAJ,GAAYF,GAA3C,EAAgD,CAAhD,CAAnB;;AAEC,MAAMG,IAAI,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBV,YAAyB;AAAA,MAAXW,MAAW;;AAC5C,MAAIA,MAAM,CAACC,IAAP,KAAgB,gBAApB,EAAsC;AAClC,UAAMC,gBAAgB,GAAG,CAACH,KAAK,CAACT,KAAN,CAAYU,MAAM,CAACG,OAAP,CAAeC,EAA3B,CAAD,GACvB,CAACJ,MAAM,CAACG,OAAR,CADuB,GAEvB,CAAC,GAAGJ,KAAK,CAACT,KAAN,CAAYU,MAAM,CAACG,OAAP,CAAeC,EAA3B,CAAJ,EAAoCJ,MAAM,CAACG,OAA3C,CAFF;AAIA,UAAME,QAAQ,GAAG,EACb,GAAGN,KAAK,CAACT,KADI;AAEb,OAACU,MAAM,CAACG,OAAP,CAAeC,EAAhB,GAAqB;AACjBd,QAAAA,KAAK,EAAEY,gBADU;AAEjBX,QAAAA;AAFiB;AAFR,KAAjB;AAYA,UAAME,SAAS,GAAG,GAAGa,MAAH,CAAUC,KAAV,CAAgB,EAAhB,EAAoBC,MAAM,CAACC,MAAP,CAAcJ,QAAd,CAApB,CAAlB;AAGA,WAAO,EACH,GAAGN,KADA;AAEHT,MAAAA,KAAK,EAAEe,QAFJ;AAGHb,MAAAA,UAAU,EAAEC,SAAS,CAACiB,MAHnB;AAIHnB,MAAAA,UAAU,EAAEA;AAJT,KAAP;AAMH;;AAED,SAAOQ,KAAP;AACH,CA9BA;;AAkCD,eAAeD,IAAf","sourcesContent":["const initialState = {\r\n    items: {},\r\n    totalPrice: 0,\r\n    totalCount: 0\r\n}\r\nconst totalPrice = allPizzas.reduce((sum, obj) => obj.price + sum, 0)\r\n\r\n const cart = (state = initialState, action) => {\r\n    if (action.type === 'ADD_PIZZA_CART') {\r\n        const currenPizzaItems = !state.items[action.payload.id] \r\n        ? [action.payload] \r\n        : [...state.items[action.payload.id], action.payload]\r\n\r\n        const newItems = {\r\n            ...state.items,\r\n            [action.payload.id]: {\r\n                items: currenPizzaItems,\r\n                totalPrice\r\n            }\r\n            \r\n            \r\n            \r\n\r\n        }\r\n\r\n        const allPizzas = [].concat.apply([], Object.values(newItems))\r\n\r\n\r\n        return {\r\n            ...state,\r\n            items: newItems,\r\n            totalCount: allPizzas.length, \r\n            totalPrice: totalPrice\r\n        }\r\n    }\r\n\r\n    return state\r\n}\r\n\r\n\r\n\r\nexport default cart"]},"metadata":{},"sourceType":"module"}